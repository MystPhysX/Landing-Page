var Konami=function(b){var a={addEvent:function(f,d,c,e){if(f.addEventListener){f.addEventListener(d,c,false)}else{if(f.attachEvent){f["e"+d+c]=c;f[d+c]=function(){f["e"+d+c](window.event,e)};f.attachEvent("on"+d,f[d+c])}}},input:"",pattern:"38384040373937396665",load:function(c){this.addEvent(document,"keydown",function(f,d){if(d){a=d}a.input+=f?f.keyCode:event.keyCode;if(a.input.length>a.pattern.length){a.input=a.input.substr((a.input.length-a.pattern.length))}if(a.input==a.pattern){a.code(c);a.input="";f.preventDefault();return false}},this);this.iphone.load(c)},code:function(c){window.location=c},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:false,capture:false,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],code:function(c){a.code(c)},load:function(c){this.orig_keys=this.keys;a.addEvent(document,"touchmove",function(d){if(d.touches.length==1&&a.iphone.capture==true){var f=d.touches[0];a.iphone.stop_x=f.pageX;a.iphone.stop_y=f.pageY;a.iphone.tap=false;a.iphone.capture=false;a.iphone.check_direction()}});a.addEvent(document,"touchend",function(d){if(a.iphone.tap==true){a.iphone.check_direction(c)}},false);a.addEvent(document,"touchstart",function(d){a.iphone.start_x=d.changedTouches[0].pageX;a.iphone.start_y=d.changedTouches[0].pageY;a.iphone.tap=true;a.iphone.capture=true})},check_direction:function(c){x_magnitude=Math.abs(this.start_x-this.stop_x);y_magnitude=Math.abs(this.start_y-this.stop_y);x=((this.start_x-this.stop_x)<0)?"RIGHT":"LEFT";y=((this.start_y-this.stop_y)<0)?"DOWN":"UP";result=(x_magnitude>y_magnitude)?x:y;result=(this.tap==true)?"TAP":result;if(result==this.keys[0]){this.keys=this.keys.slice(1,this.keys.length)}if(this.keys.length==0){this.keys=this.orig_keys;this.code(c)}}}};typeof b==="string"&&a.load(b);if(typeof b==="function"){a.code=b;a.load()}return a};